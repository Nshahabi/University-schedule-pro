package edu.name.schedule.model;

import java.util.ArrayList;
import java.util.List;
import java.util.Objects;

public class Course {
    private final String id;
    private final String title;
    private final int credits;
    private final List<Meeting> meetings;

    public Course(String id, String title, int credits, List<Meeting> meetings) {
        if (id == null || id.isBlank()) throw new IllegalArgumentException("id required");
        if (title == null || title.isBlank()) throw new IllegalArgumentException("title required");
        if (credits <= 0) throw new IllegalArgumentException("credits must be > 0");
        this.id = id;
        this.title = title;
        this.credits = credits;
        this.meetings = new ArrayList<>(meetings == null ? List.of() : meetings);
    }

    public String getId() { return id; }
    public String getTitle() { return title; }
    public int getCredits() { return credits; }
    public List<Meeting> getMeetings() { return List.copyOf(meetings); }

    @Override public boolean equals(Object o) {
        if (this == o) return true;
        if (!(o instanceof Course c)) return false;
        return id.equals(c.id);
    }

    @Override public int hashCode() { return Objects.hash(id); }

    @Override public String toString() { return id + " â€” " + title + " (" + credits + " cr)"; }
}
